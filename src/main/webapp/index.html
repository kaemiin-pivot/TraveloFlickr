<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<html>
<head>
<meta charset="utf-8" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<title>TraveloFlickr | Explore The World</title>

<!-- Included CSS Files (Uncompressed) -->
  <!--
  <link rel="stylesheet" href="stylesheets/foundation.css">
  -->

  <!-- Included CSS Files (Compressed) -->
  <link rel="stylesheet" href="stylesheets/foundation.min.css">
  <link rel="stylesheet" href="stylesheets/app.css">
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <script src="javascripts/modernizr.foundation.js"></script>

  <!-- IE Fix for HTML5 Tags -->
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

<!-- Included JS Files (Uncompressed) -->
  <!--

  <script src="javascripts/jquery.js"></script>

  <script src="javascripts/jquery.foundation.mediaQueryToggle.js"></script>

  <script src="javascripts/jquery.foundation.forms.js"></script>

  <script src="javascripts/jquery.foundation.reveal.js"></script>

  <script src="javascripts/jquery.foundation.orbit.js"></script>

  <script src="javascripts/jquery.foundation.buttons.js"></script>

  <script src="javascripts/jquery.foundation.tabs.js"></script>

  <script src="javascripts/jquery.foundation.tooltips.js"></script>

  <script src="javascripts/jquery.foundation.accordion.js"></script>

  <script src="javascripts/jquery.placeholder.js"></script>

  <script src="javascripts/jquery.foundation.alerts.js"></script>

  <script src="javascripts/jquery.foundation.topbar.js"></script>

  -->



  <!-- Included JS Files (Compressed) -->
  <script src="javascripts/jquery.js"></script>
  <script src="javascripts/foundation.min.js"></script>
  <script src="javascripts/jquery.foundation.navigation.js"></script>

  <!-- Initialize JS Plugins -->
  <script src="javascripts/app.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=places"></script>

<script>

var places = [];

function registerAutoComplete(pId) {

        var input = document.getElementById(pId),

            autocomplete = new google.maps.places.Autocomplete(input),

            types = ['geocode']; // [], ['establishment'], ['geocode']);

        autocomplete.setTypes(types);

        google.maps.event.addListener(autocomplete, 'place_changed', function(){

            var place = autocomplete.getPlace();

            if (!place.geometry) {
              // Inform the user that the place was not found and return.
              input.value = '';

              return;
            }

            places[pId] = place;

            //console.log(place)

            // place.geometry.viewport
            // place.geometry.location
            // place.name
            // place.address_components //is array
            // place.address_components[0].short_name

        });

}

var locationIdx = 1;

function addNewLocation(){

  //   var id = location + (++locationIdx),
    var id = ++locationIdx,
        html = '<div id="location_' + id + '"  class="row display">'
             +   '<div class="one columns offset-by-one spotIcon"></div>'
             +   '<div class="eight columns">'
             +      '<input id="'+ id +'" class="spotField" placeholder="Enter a place " type="text" name="location"  />'
             +   '<div id="delete_' + id + '" class="spotField-delete"></div>'
             +   '</div>'
             +   '<div class="two columns"></div>'
             + '</div>'

    $('.spotWrappers').append(html);

    $('#delete_' + id).click(function(){
      console.log('here');
      $('#location_' + id).remove();
      //TODO
      }).show();

    registerAutoComplete(id);
}

function getPhotos(){

    for(var key in places){

       //console.log(places[key]);
    }

}

$(document).ready(function(){

     $( ".spotField_new" ).click(addNewLocation);

     $( "#getPhotosBtn" ).click(getPhotos);

     registerAutoComplete('location1');

    $(document).foundationTopBar();
});

</script>
</head>
<body>

    <nav class="top-bar">
      <ul>
        <li class="center"><img id="logo" src="images/logo.png" /></li>
      </ul>
    </nav>

    <div class="row display firstRow">
      <div class="eight columns centered">
        <h1> Take me to these places</h1>
      </div>
    </div>

    <div class="spotWrappers">

        <div class="row display">
          <div class="one columns offset-by-one spotIcon"></div>
          <div class="eight columns">
            <input id="location1" class="spotField" placeholder="Enter a place " type="text" name="location" />
          </div>
          <div class="two columns"></div>
        </div>

    </div>

    <div class="row display">
      <div class="eight columns centered">
        <img class="arrowDown" src="images/arrowDown.png" />
      </div>
    </div>

    <div class="row display">
        <div class="eight columns centered spotField_new">
          <img class="arrowDown" src="images/add.png">
          <p>Add places</p>
        </div>
    </div>

    <div class="row display">
        <div class="eight columns centered">
          <input type="button" id="getPhotosBtn" class="sendButton" value="Letâ€™s Go" />
        </div>
    </div>

</body>
</html>
